# 3-1 词向量及向量知识库

### 1. 词向量

##### 1.1 什么是词向量

​![image](assets/image-20240826164414-pci76rx.png)​

	在机器学习和自然语言处理（NLP）中，词向量（Embeddings）是一种将**非结构化数据**，如单词、句子或者整个文档，**转化为实数向量的技术**。这些实数向量可以被计算机更好地理解和处理。

	embedding背后的主要想法是相似或相关的对象在embedding的空间中距离相近。

​![image](assets/image-20240826164521-j3i1m7s.png)​

##### 1.2 词向量优势

	在RAG（Retrieval Augmented Generation，检索增强生成）方面词向量的优势主要有两点：

* 词向量比文字更适合检索。在数据库检索时，如果数据库存储的是文字，主要通过**检索关键词（词法搜索）** 等方法找到相对匹配的数据，匹配的程度是**取决于关键词的数量或者是否完全匹配查询句**；但是**词向量**中包含了原文本的语义信息，可以**通过计算问题与数据库中数据的点积、余弦距离、欧几里得距离等指标**，直接获取问题与数据在语义层面上的相似度
* 词向量比其它媒介的综合信息能力更强。当传统数据库存储文字、声音、图像、视频等多种媒介时，很难去将上述**多种媒介构建起关联与跨模态的查询方法，** 但是**词向量却可以通过多种向量模型将多种数据映射成统一的向量形式**。

##### 1.3 构建词向量方法

* 使用各个公司提供的embedding api
* 在本地使用embedding模型将数据构建为词向量

### 2. 向量数据库

##### 2.1 什么是向量数据库

* 向量数据库是用于高效计算和管理大量向量数据的解决方案
* 向量数据库是一种专门用于存储和检索向量数据（embedding）的数据库系统。

	在向量数据库中，数据被表示为向量形式，每个向量代表一个数据项。这些向量可以是数字、文本、图像或其他类型的数据。向量数据库使用**高效的索引和查询算法来加速向量数据的存储和检索过程**。

##### 2.2 主流向量数据库

* [Chroma](https://www.trychroma.com/)：是一个轻量级向量数据库，拥有丰富的功能和简单的 API，具有简单、易用、轻量的优点，但功能相对简单且**不支持GPU加速**，适合初学者使用。
* [Weaviate](https://weaviate.io/)：是一个开源向量数据库。除了支持相似度搜索和最大边际相关性（MMR，Maximal Marginal Relevance）搜索外还可以支持结合多种搜索算法（基于词法搜索、向量搜索）的混合搜索，从而搜索提高结果的相关性和准确性。
* [Qdrant](https://qdrant.tech/)：Qdrant使用 Rust 语言开发，有极高的检索效率和RPS（Requests Per Second），支持本地运行、部署在本地服务器及Qdrant云三种部署模式。且可以通过为页面内容和元数据制定不同的键来复用数据。
